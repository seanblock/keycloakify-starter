import{r as N,u as F,j as s}from"./index-CbRHuHWR.js";import{c as r}from"./useGetClassName--CzfVzr1.js";import{u as w}from"./useGetClassName-DN9hEdVF.js";function L(x){const{kcContext:m,i18n:u,doUseDefaultCss:p,Template:h,classes:j}=x,{getClassName:e}=w({doUseDefaultCss:p,classes:j}),{social:o,realm:i,url:d,usernameHidden:b,login:g,auth:c,registrationDisabled:k}=m,{msg:n,msgStr:C}=u,[v,f]=N.useState(!1),O=F(a=>{var t;a.preventDefault(),f(!0);const l=a.target;(t=l.querySelector("input[name='email']"))===null||t===void 0||t.setAttribute("name","username"),l.submit()});return s.jsx(h,Object.assign({},{kcContext:m,i18n:u,doUseDefaultCss:p,classes:j},{displayInfo:i.password&&i.registrationAllowed&&!k,displayWide:i.password&&o.providers!==void 0,headerNode:n("doLogIn"),infoNode:s.jsx("div",Object.assign({id:"kc-registration"},{children:s.jsxs("span",{children:[n("noAccount"),s.jsx("a",Object.assign({tabIndex:6,href:d.registrationUrl},{children:n("doRegister")}))]})}))},{children:s.jsxs("div",Object.assign({id:"kc-form",className:r(i.password&&o.providers!==void 0&&e("kcContentWrapperClass"))},{children:[s.jsx("div",Object.assign({id:"kc-form-wrapper",className:r(i.password&&o.providers&&[e("kcFormSocialAccountContentClass"),e("kcFormSocialAccountClass")])},{children:i.password&&s.jsxs("form",Object.assign({id:"kc-form-login",onSubmit:O,action:d.loginAction,method:"post"},{children:[s.jsx("div",Object.assign({className:e("kcFormGroupClass")},{children:!b&&(()=>{var a;const t=i.loginWithEmailAllowed?i.registrationEmailAsUsername?"email":"usernameOrEmail":"username",l=t==="usernameOrEmail"?"username":t;return s.jsxs(s.Fragment,{children:[s.jsx("label",Object.assign({htmlFor:l,className:e("kcLabelClass")},{children:n(t)})),s.jsx("input",{tabIndex:1,id:l,className:e("kcInputClass"),name:l,defaultValue:(a=g.username)!==null&&a!==void 0?a:"",type:"text",autoFocus:!0,autoComplete:"off"})]})})()})),s.jsxs("div",Object.assign({className:e("kcFormGroupClass")},{children:[s.jsx("label",Object.assign({htmlFor:"password",className:e("kcLabelClass")},{children:n("password")})),s.jsx("input",{tabIndex:2,id:"password",className:e("kcInputClass"),name:"password",type:"password",autoComplete:"off"})]})),s.jsxs("div",Object.assign({className:r(e("kcFormGroupClass"),e("kcFormSettingClass"))},{children:[s.jsx("div",Object.assign({id:"kc-form-options"},{children:i.rememberMe&&!b&&s.jsx("div",Object.assign({className:"checkbox"},{children:s.jsxs("label",{children:[s.jsx("input",Object.assign({tabIndex:3,id:"rememberMe",name:"rememberMe",type:"checkbox"},g.rememberMe==="on"?{checked:!0}:{})),n("rememberMe")]})}))})),s.jsx("div",Object.assign({className:e("kcFormOptionsWrapperClass")},{children:i.resetPasswordAllowed&&s.jsx("span",{children:s.jsx("a",Object.assign({tabIndex:5,href:d.loginResetCredentialsUrl},{children:n("doForgotPassword")}))})}))]})),s.jsxs("div",Object.assign({id:"kc-form-buttons",className:e("kcFormGroupClass")},{children:[s.jsx("input",Object.assign({type:"hidden",id:"id-hidden-input",name:"credentialId"},(c==null?void 0:c.selectedCredential)!==void 0?{value:c.selectedCredential}:{})),s.jsx("input",{tabIndex:4,className:r(e("kcButtonClass"),e("kcButtonPrimaryClass"),e("kcButtonBlockClass"),e("kcButtonLargeClass")),name:"login",id:"kc-login",type:"submit",value:C("doLogIn"),disabled:v})]}))]}))})),i.password&&o.providers!==void 0&&s.jsx("div",Object.assign({id:"kc-social-providers",className:r(e("kcFormSocialAccountContentClass"),e("kcFormSocialAccountClass"))},{children:s.jsx("ul",Object.assign({className:r(e("kcFormSocialAccountListClass"),o.providers.length>4&&e("kcFormSocialAccountDoubleListClass"))},{children:o.providers.map(a=>s.jsx("li",Object.assign({className:e("kcFormSocialAccountListLinkClass")},{children:s.jsx("a",Object.assign({href:a.loginUrl,id:`zocial-${a.alias}`,className:r("zocial",a.providerId)},{children:s.jsx("span",{children:a.displayName})}))}),a.providerId))}))}))]}))}))}export{L as default};
