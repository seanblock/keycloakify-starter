{"version":3,"file":"Login-D8P7-hPG.js","sources":["../../node_modules/keycloakify/login/pages/Login.js"],"sourcesContent":["import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from \"react\";\nimport { clsx } from \"../../tools/clsx\";\nimport { useConstCallback } from \"../../tools/useConstCallback\";\nimport { useGetClassName } from \"../../login/lib/useGetClassName\";\nexport default function Login(props) {\n    const { kcContext, i18n, doUseDefaultCss, Template, classes } = props;\n    const { getClassName } = useGetClassName({\n        doUseDefaultCss,\n        classes\n    });\n    const { social, realm, url, usernameHidden, login, auth, registrationDisabled } = kcContext;\n    const { msg, msgStr } = i18n;\n    const [isLoginButtonDisabled, setIsLoginButtonDisabled] = useState(false);\n    const onSubmit = useConstCallback(e => {\n        var _a;\n        e.preventDefault();\n        setIsLoginButtonDisabled(true);\n        const formElement = e.target;\n        //NOTE: Even if we login with email Keycloak expect username and password in\n        //the POST request.\n        (_a = formElement.querySelector(\"input[name='email']\")) === null || _a === void 0 ? void 0 : _a.setAttribute(\"name\", \"username\");\n        formElement.submit();\n    });\n    return (_jsx(Template, Object.assign({}, { kcContext, i18n, doUseDefaultCss, classes }, { displayInfo: realm.password && realm.registrationAllowed && !registrationDisabled, displayWide: realm.password && social.providers !== undefined, headerNode: msg(\"doLogIn\"), infoNode: _jsx(\"div\", Object.assign({ id: \"kc-registration\" }, { children: _jsxs(\"span\", { children: [msg(\"noAccount\"), _jsx(\"a\", Object.assign({ tabIndex: 6, href: url.registrationUrl }, { children: msg(\"doRegister\") }))] }) })) }, { children: _jsxs(\"div\", Object.assign({ id: \"kc-form\", className: clsx(realm.password && social.providers !== undefined && getClassName(\"kcContentWrapperClass\")) }, { children: [_jsx(\"div\", Object.assign({ id: \"kc-form-wrapper\", className: clsx(realm.password &&\n                        social.providers && [getClassName(\"kcFormSocialAccountContentClass\"), getClassName(\"kcFormSocialAccountClass\")]) }, { children: realm.password && (_jsxs(\"form\", Object.assign({ id: \"kc-form-login\", onSubmit: onSubmit, action: url.loginAction, method: \"post\" }, { children: [_jsx(\"div\", Object.assign({ className: getClassName(\"kcFormGroupClass\") }, { children: !usernameHidden &&\n                                    (() => {\n                                        var _a;\n                                        const label = !realm.loginWithEmailAllowed\n                                            ? \"username\"\n                                            : realm.registrationEmailAsUsername\n                                                ? \"email\"\n                                                : \"usernameOrEmail\";\n                                        const autoCompleteHelper = label === \"usernameOrEmail\" ? \"username\" : label;\n                                        return (_jsxs(_Fragment, { children: [_jsx(\"label\", Object.assign({ htmlFor: autoCompleteHelper, className: getClassName(\"kcLabelClass\") }, { children: msg(label) })), _jsx(\"input\", { tabIndex: 1, id: autoCompleteHelper, className: getClassName(\"kcInputClass\"), \n                                                    //NOTE: This is used by Google Chrome auto fill so we use it to tell\n                                                    //the browser how to pre fill the form but before submit we put it back\n                                                    //to username because it is what keycloak expects.\n                                                    name: autoCompleteHelper, defaultValue: (_a = login.username) !== null && _a !== void 0 ? _a : \"\", type: \"text\", autoFocus: true, autoComplete: \"off\" })] }));\n                                    })() })), _jsxs(\"div\", Object.assign({ className: getClassName(\"kcFormGroupClass\") }, { children: [_jsx(\"label\", Object.assign({ htmlFor: \"password\", className: getClassName(\"kcLabelClass\") }, { children: msg(\"password\") })), _jsx(\"input\", { tabIndex: 2, id: \"password\", className: getClassName(\"kcInputClass\"), name: \"password\", type: \"password\", autoComplete: \"off\" })] })), _jsxs(\"div\", Object.assign({ className: clsx(getClassName(\"kcFormGroupClass\"), getClassName(\"kcFormSettingClass\")) }, { children: [_jsx(\"div\", Object.assign({ id: \"kc-form-options\" }, { children: realm.rememberMe && !usernameHidden && (_jsx(\"div\", Object.assign({ className: \"checkbox\" }, { children: _jsxs(\"label\", { children: [_jsx(\"input\", Object.assign({ tabIndex: 3, id: \"rememberMe\", name: \"rememberMe\", type: \"checkbox\" }, (login.rememberMe === \"on\"\n                                                        ? {\n                                                            \"checked\": true\n                                                        }\n                                                        : {}))), msg(\"rememberMe\")] }) }))) })), _jsx(\"div\", Object.assign({ className: getClassName(\"kcFormOptionsWrapperClass\") }, { children: realm.resetPasswordAllowed && (_jsx(\"span\", { children: _jsx(\"a\", Object.assign({ tabIndex: 5, href: url.loginResetCredentialsUrl }, { children: msg(\"doForgotPassword\") })) })) }))] })), _jsxs(\"div\", Object.assign({ id: \"kc-form-buttons\", className: getClassName(\"kcFormGroupClass\") }, { children: [_jsx(\"input\", Object.assign({ type: \"hidden\", id: \"id-hidden-input\", name: \"credentialId\" }, ((auth === null || auth === void 0 ? void 0 : auth.selectedCredential) !== undefined\n                                        ? {\n                                            \"value\": auth.selectedCredential\n                                        }\n                                        : {}))), _jsx(\"input\", { tabIndex: 4, className: clsx(getClassName(\"kcButtonClass\"), getClassName(\"kcButtonPrimaryClass\"), getClassName(\"kcButtonBlockClass\"), getClassName(\"kcButtonLargeClass\")), name: \"login\", id: \"kc-login\", type: \"submit\", value: msgStr(\"doLogIn\"), disabled: isLoginButtonDisabled })] }))] }))) })), realm.password && social.providers !== undefined && (_jsx(\"div\", Object.assign({ id: \"kc-social-providers\", className: clsx(getClassName(\"kcFormSocialAccountContentClass\"), getClassName(\"kcFormSocialAccountClass\")) }, { children: _jsx(\"ul\", Object.assign({ className: clsx(getClassName(\"kcFormSocialAccountListClass\"), social.providers.length > 4 && getClassName(\"kcFormSocialAccountDoubleListClass\")) }, { children: social.providers.map(p => (_jsx(\"li\", Object.assign({ className: getClassName(\"kcFormSocialAccountListLinkClass\") }, { children: _jsx(\"a\", Object.assign({ href: p.loginUrl, id: `zocial-${p.alias}`, className: clsx(\"zocial\", p.providerId) }, { children: _jsx(\"span\", { children: p.displayName }) })) }), p.providerId))) })) })))] })) })));\n}\n//# sourceMappingURL=Login.js.map"],"names":["Login","props","kcContext","i18n","doUseDefaultCss","Template","classes","getClassName","useGetClassName","social","realm","url","usernameHidden","login","auth","registrationDisabled","msg","msgStr","isLoginButtonDisabled","setIsLoginButtonDisabled","useState","onSubmit","useConstCallback","e","_a","formElement","_jsx","_jsxs","clsx","label","autoCompleteHelper","_Fragment","p"],"mappings":"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","x_google_ignoreList":[0]}