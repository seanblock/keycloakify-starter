{"version":3,"file":"index-BBVnqZ2V.js","sources":["../../node_modules/evt/hooks/useEvt.js","../../node_modules/evt/hooks/useRerenderOnStateChange.js","../../node_modules/evt/hooks/index.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useEvt = void 0;\nvar lib_1 = require(\"../lib\");\nvar React = __importStar(require(\"react\"));\nvar useEffect = React.useEffect;\n/**\n * https://docs.evt.land/api/react-hooks\n *\n * Provide a Ctx to attach handlers.\n * You should list in deps all the Evt that are\n * susceptible to change ( Evt passed as props\n * or Evt that are react states ) that you use in the\n * factoryOrEffect callback.\n * As for useEffect you should also list every other\n * value that you use.\n * Whenever any value in deps is changed factoryOrEffect\n * is invoked again with the new Evt and the previous handler\n * get detached.\n * All handler are also detached when the component unmount.\n *\n * factoryOrEffect can be used for attaching handler to event\n * or to generate a new event that is a merge/pipe of other\n * Evts.\n *\n * BE AWARE: Unlike useEffect factoryOrEffect is called\n * on render ( like useMemo's callback ).\n * Remember that you shouldn't update state in a component\n * render tick (in the useMemo for example). If you you need to\n * perform an effect on first render (attaching a stateful evt\n * for example) use registerSideEffect(()=>{ ... })\n *\n * Demo: https://docs.evt.land/react-hooks#useevt\n */\nfunction useEvt(effect, deps) {\n    useEffect(function () {\n        var ctx = lib_1.Evt.newCtx();\n        effect(ctx);\n        return function () { ctx.done(); };\n    }, deps);\n}\nexports.useEvt = useEvt;\n//# sourceMappingURL=useEvt.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useRerenderOnStateChange = void 0;\nvar useEvt_1 = require(\"./useEvt\");\nvar React = __importStar(require(\"react\"));\nvar useState = React.useState;\n;\n/**\n * https://docs.evt.land/react-hooks#usererenderonstatechange\n *\n * To use StatefulEvt as react component state.\n * */\nfunction useRerenderOnStateChange(evt) {\n    //NOTE: We use function in case the state is a function\n    var _a = __read(useState(function () { return evt.state; }), 2), setState = _a[1];\n    (0, useEvt_1.useEvt)(function (ctx) {\n        return evt.attach(ctx, function (state) { return setState(function () { return state; }); });\n    }, [evt]);\n}\nexports.useRerenderOnStateChange = useRerenderOnStateChange;\n//# sourceMappingURL=useRerenderOnStateChange.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useRerenderOnStateChange = exports.useEvt = void 0;\n/*\nNOTE: In theory react should be a peer dependency\ninstead of a dev dependency.\nBut given that /hook is just a plugin for using Evt\nwith react we don't want to require react to be\ninstalled to install Evt.\n*/\nvar useEvt_1 = require(\"./useEvt\");\nObject.defineProperty(exports, \"useEvt\", { enumerable: true, get: function () { return useEvt_1.useEvt; } });\nvar useRerenderOnStateChange_1 = require(\"./useRerenderOnStateChange\");\nObject.defineProperty(exports, \"useRerenderOnStateChange\", { enumerable: true, get: function () { return useRerenderOnStateChange_1.useRerenderOnStateChange; } });\n//# sourceMappingURL=index.js.map"],"names":["__createBinding","this","o","m","k","k2","desc","__setModuleDefault","v","__importStar","mod","result","useEvt_1","lib_1","require$$0","React","require$$1","useEffect","useEvt","effect","deps","ctx","__read","n","i","r","ar","e","error","useRerenderOnStateChange_1","useState","useRerenderOnStateChange","evt","_a","setState","state","exports"],"mappings":"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","x_google_ignoreList":[0,1,2]}