{"version":3,"file":"LoginConfigTotp-COMYVGyQ.js","sources":["../../node_modules/keycloakify/login/pages/LoginConfigTotp.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { clsx } from \"../../tools/clsx\";\nimport { useGetClassName } from \"../../login/lib/useGetClassName\";\nexport default function LoginConfigTotp(props) {\n    var _a;\n    const { kcContext, i18n, doUseDefaultCss, Template, classes } = props;\n    const { getClassName } = useGetClassName({\n        doUseDefaultCss,\n        classes\n    });\n    const { url, isAppInitiatedAction, totp, mode, messagesPerField } = kcContext;\n    const { msg, msgStr } = i18n;\n    const algToKeyUriAlg = {\n        \"HmacSHA1\": \"SHA1\",\n        \"HmacSHA256\": \"SHA256\",\n        \"HmacSHA512\": \"SHA512\"\n    };\n    return (_jsx(Template, Object.assign({}, { kcContext, i18n, doUseDefaultCss, classes }, { headerNode: msg(\"loginTotpTitle\") }, { children: _jsxs(_Fragment, { children: [_jsxs(\"ol\", Object.assign({ id: \"kc-totp-settings\" }, { children: [_jsxs(\"li\", { children: [_jsx(\"p\", { children: msg(\"loginTotpStep1\") }), _jsx(\"ul\", Object.assign({ id: \"kc-totp-supported-apps\" }, { children: totp.supportedApplications.map(app => (_jsx(\"li\", { children: msg(app) }))) }))] }), mode && mode == \"manual\" ? (_jsxs(_Fragment, { children: [_jsxs(\"li\", { children: [_jsx(\"p\", { children: msg(\"loginTotpManualStep2\") }), _jsx(\"p\", { children: _jsx(\"span\", Object.assign({ id: \"kc-totp-secret-key\" }, { children: totp.totpSecretEncoded })) }), _jsx(\"p\", { children: _jsx(\"a\", Object.assign({ href: totp.qrUrl, id: \"mode-barcode\" }, { children: msg(\"loginTotpScanBarcode\") })) })] }), _jsxs(\"li\", { children: [_jsx(\"p\", { children: msg(\"loginTotpManualStep3\") }), _jsx(\"p\", { children: _jsxs(\"ul\", { children: [_jsxs(\"li\", Object.assign({ id: \"kc-totp-type\" }, { children: [msg(\"loginTotpType\"), \": \", msg(`loginTotp.${totp.policy.type}`)] })), _jsxs(\"li\", Object.assign({ id: \"kc-totp-algorithm\" }, { children: [msg(\"loginTotpAlgorithm\"), \": \", (_a = algToKeyUriAlg === null || algToKeyUriAlg === void 0 ? void 0 : algToKeyUriAlg[totp.policy.algorithm]) !== null && _a !== void 0 ? _a : totp.policy.algorithm] })), _jsxs(\"li\", Object.assign({ id: \"kc-totp-digits\" }, { children: [msg(\"loginTotpDigits\"), \": \", totp.policy.digits] })), totp.policy.type === \"totp\" ? (_jsxs(\"li\", Object.assign({ id: \"kc-totp-period\" }, { children: [msg(\"loginTotpInterval\"), \": \", totp.policy.period] }))) : (_jsxs(\"li\", Object.assign({ id: \"kc-totp-counter\" }, { children: [msg(\"loginTotpCounter\"), \": \", totp.policy.initialCounter] })))] }) })] })] })) : (_jsxs(\"li\", { children: [_jsx(\"p\", { children: msg(\"loginTotpStep2\") }), _jsx(\"img\", { id: \"kc-totp-secret-qr-code\", src: `data:image/png;base64, ${totp.totpSecretQrCode}`, alt: \"Figure: Barcode\" }), _jsx(\"br\", {}), _jsx(\"p\", { children: _jsx(\"a\", Object.assign({ href: totp.manualUrl, id: \"mode-manual\" }, { children: msg(\"loginTotpUnableToScan\") })) })] })), _jsxs(\"li\", { children: [_jsx(\"p\", { children: msg(\"loginTotpStep3\") }), _jsx(\"p\", { children: msg(\"loginTotpStep3DeviceName\") })] })] })), _jsxs(\"form\", Object.assign({ action: url.loginAction, className: getClassName(\"kcFormClass\"), id: \"kc-totp-settings-form\", method: \"post\" }, { children: [_jsxs(\"div\", Object.assign({ className: getClassName(\"kcFormGroupClass\") }, { children: [_jsxs(\"div\", Object.assign({ className: getClassName(\"kcInputWrapperClass\") }, { children: [_jsx(\"label\", Object.assign({ htmlFor: \"totp\", className: getClassName(\"kcLabelClass\") }, { children: msg(\"authenticatorCode\") })), \" \", _jsx(\"span\", Object.assign({ className: \"required\" }, { children: \"*\" }))] })), _jsxs(\"div\", Object.assign({ className: getClassName(\"kcInputWrapperClass\") }, { children: [_jsx(\"input\", { type: \"text\", id: \"totp\", name: \"totp\", autoComplete: \"off\", className: getClassName(\"kcInputClass\"), \"aria-invalid\": messagesPerField.existsError(\"totp\") }), messagesPerField.existsError(\"totp\") && (_jsx(\"span\", Object.assign({ id: \"input-error-otp-code\", className: getClassName(\"kcInputErrorMessageClass\"), \"aria-live\": \"polite\" }, { children: messagesPerField.get(\"totp\") })))] })), _jsx(\"input\", { type: \"hidden\", id: \"totpSecret\", name: \"totpSecret\", value: totp.totpSecret }), mode && _jsx(\"input\", { type: \"hidden\", id: \"mode\", value: mode })] })), _jsxs(\"div\", Object.assign({ className: getClassName(\"kcFormGroupClass\") }, { children: [_jsxs(\"div\", Object.assign({ className: getClassName(\"kcInputWrapperClass\") }, { children: [_jsx(\"label\", Object.assign({ htmlFor: \"userLabel\", className: getClassName(\"kcLabelClass\") }, { children: msg(\"loginTotpDeviceName\") })), \" \", totp.otpCredentials.length >= 1 && _jsx(\"span\", Object.assign({ className: \"required\" }, { children: \"*\" }))] })), _jsxs(\"div\", Object.assign({ className: getClassName(\"kcInputWrapperClass\") }, { children: [_jsx(\"input\", { type: \"text\", id: \"userLabel\", name: \"userLabel\", autoComplete: \"off\", className: getClassName(\"kcInputClass\"), \"aria-invalid\": messagesPerField.existsError(\"userLabel\") }), messagesPerField.existsError(\"userLabel\") && (_jsx(\"span\", Object.assign({ id: \"input-error-otp-label\", className: getClassName(\"kcInputErrorMessageClass\"), \"aria-live\": \"polite\" }, { children: messagesPerField.get(\"userLabel\") })))] }))] })), isAppInitiatedAction ? (_jsxs(_Fragment, { children: [_jsx(\"input\", { type: \"submit\", className: clsx(getClassName(\"kcButtonClass\"), getClassName(\"kcButtonPrimaryClass\"), getClassName(\"kcButtonLargeClass\")), id: \"saveTOTPBtn\", value: msgStr(\"doSubmit\") }), _jsx(\"button\", Object.assign({ type: \"submit\", className: clsx(getClassName(\"kcButtonClass\"), getClassName(\"kcButtonDefaultClass\"), getClassName(\"kcButtonLargeClass\"), getClassName(\"kcButtonLargeClass\")), id: \"cancelTOTPBtn\", name: \"cancel-aia\", value: \"true\" }, { children: msg(\"doCancel\") }))] })) : (_jsx(\"input\", { type: \"submit\", className: clsx(getClassName(\"kcButtonClass\"), getClassName(\"kcButtonPrimaryClass\"), getClassName(\"kcButtonLargeClass\")), id: \"saveTOTPBtn\", value: msgStr(\"doSubmit\") }))] }))] }) })));\n}\n//# sourceMappingURL=LoginConfigTotp.js.map"],"names":["LoginConfigTotp","props","_a","kcContext","i18n","doUseDefaultCss","Template","classes","getClassName","useGetClassName","url","isAppInitiatedAction","totp","mode","messagesPerField","msg","msgStr","algToKeyUriAlg","_jsx","_jsxs","_Fragment","app","clsx"],"mappings":"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","x_google_ignoreList":[0]}