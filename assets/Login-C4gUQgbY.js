import{r as F,u as I,j as s}from"./index-CbRHuHWR.js";import{c as l}from"./useGetClassName--CzfVzr1.js";import{u as A}from"./useGetClassName-DN9hEdVF.js";const C=new URL(window.location.href).searchParams.get("my_custom_param");C!==null&&console.log("my_custom_param:",C);function B(j){const{kcContext:d,i18n:m,doUseDefaultCss:u,Template:b,classes:p}=j,{getClassName:e}=A({doUseDefaultCss:u,classes:p}),{social:i,realm:o,url:c,usernameHidden:x,login:h,auth:n,registrationDisabled:g}=d,{msg:r,msgStr:f}=m,[v,N]=F.useState(!1),w=I(a=>{var k;a.preventDefault(),N(!0);const t=a.target;(k=t.querySelector("input[name='email']"))==null||k.setAttribute("name","username"),t.submit()});return s.jsx(b,{kcContext:d,i18n:m,doUseDefaultCss:u,classes:p,displayInfo:o.password&&o.registrationAllowed&&!g,displayWide:o.password&&i.providers!==void 0,headerNode:r("doLogIn"),infoNode:s.jsx("div",{id:"kc-registration",children:s.jsxs("span",{children:[r("noAccount"),s.jsx("a",{tabIndex:6,href:c.registrationUrl,children:r("doRegister")})]})}),children:s.jsxs("div",{id:"kc-form",className:l(o.password&&i.providers!==void 0&&e("kcContentWrapperClass")),children:[s.jsx("div",{id:"kc-form-wrapper",className:l(o.password&&i.providers&&[e("kcFormSocialAccountContentClass"),e("kcFormSocialAccountClass")]),children:o.password&&s.jsxs("form",{id:"kc-form-login",onSubmit:w,action:c.loginAction,method:"post",children:[s.jsx("div",{className:e("kcFormGroupClass"),children:!x&&(()=>{const a=o.loginWithEmailAllowed?o.registrationEmailAsUsername?"email":"usernameOrEmail":"username",t=a==="usernameOrEmail"?"username":a;return s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:t,className:e("kcLabelClass"),children:r(a)}),s.jsx("input",{tabIndex:1,id:t,className:e("kcInputClass"),name:t,defaultValue:h.username??"",type:"text",autoFocus:!0,autoComplete:"off"})]})})()}),s.jsxs("div",{className:e("kcFormGroupClass"),children:[s.jsx("label",{htmlFor:"password",className:e("kcLabelClass"),children:r("password")}),s.jsx("input",{tabIndex:2,id:"password",className:e("kcInputClass"),name:"password",type:"password",autoComplete:"off"})]}),s.jsxs("div",{className:l(e("kcFormGroupClass"),e("kcFormSettingClass")),children:[s.jsx("div",{id:"kc-form-options",children:o.rememberMe&&!x&&s.jsx("div",{className:"checkbox",children:s.jsxs("label",{children:[s.jsx("input",{tabIndex:3,id:"rememberMe",name:"rememberMe",type:"checkbox",...h.rememberMe==="on"?{checked:!0}:{}}),r("rememberMe")]})})}),s.jsx("div",{className:e("kcFormOptionsWrapperClass"),children:o.resetPasswordAllowed&&s.jsx("span",{children:s.jsx("a",{tabIndex:5,href:c.loginResetCredentialsUrl,children:r("doForgotPassword")})})})]}),s.jsxs("div",{id:"kc-form-buttons",className:e("kcFormGroupClass"),children:[s.jsx("input",{type:"hidden",id:"id-hidden-input",name:"credentialId",...(n==null?void 0:n.selectedCredential)!==void 0?{value:n.selectedCredential}:{}}),s.jsx("input",{tabIndex:4,className:l(e("kcButtonClass"),e("kcButtonPrimaryClass"),e("kcButtonBlockClass"),e("kcButtonLargeClass")),name:"login",id:"kc-login",type:"submit",value:f("doLogIn"),disabled:v})]})]})}),o.password&&i.providers!==void 0&&s.jsx("div",{id:"kc-social-providers",className:l(e("kcFormSocialAccountContentClass"),e("kcFormSocialAccountClass")),children:s.jsx("ul",{className:l(e("kcFormSocialAccountListClass"),i.providers.length>4&&e("kcFormSocialAccountDoubleListClass")),children:i.providers.map(a=>s.jsx("li",{className:e("kcFormSocialAccountListLinkClass"),children:s.jsx("a",{href:a.loginUrl,id:`zocial-${a.alias}`,className:l("zocial",a.providerId),children:s.jsx("span",{children:a.displayName})})},a.providerId))})})]})})}export{B as default};
